<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ„Ø¯ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª PWA</title>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        .preview {
            text-align: center;
            margin: 20px 0;
        }
        .preview img {
            max-width: 200px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto;
            width: 200px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .downloads {
            margin-top: 30px;
        }
        .download-link {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        .download-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        .progress {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
        .progress-bar {
            background: rgba(255, 255, 255, 0.3);
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        canvas {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ Ù…ÙˆÙ„Ø¯ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª PWA</h1>
        
        <div class="preview">
            <img id="preview" src="public/YSK-SALES.png" alt="YSK SALES Logo">
            <p>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©</p>
        </div>
        
        <button class="btn" onclick="generateIcons()">ğŸš€ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª</button>
        
        <div class="progress" id="progress">
            <p id="progressText">Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª...</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="downloads" id="downloads"></div>
    </div>
    
    <canvas id="canvas"></canvas>

    <script>
        const sizes = [
            { size: 72, name: 'icon-72x72.png' },
            { size: 96, name: 'icon-96x96.png' },
            { size: 128, name: 'icon-128x128.png' },
            { size: 144, name: 'icon-144x144.png' },
            { size: 152, name: 'icon-152x152.png' },
            { size: 192, name: 'icon-192x192.png' },
            { size: 384, name: 'icon-384x384.png' },
            { size: 512, name: 'icon-512x512.png' }
        ];

        async function generateIcons() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            const progress = document.getElementById('progress');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const downloads = document.getElementById('downloads');
            
            progress.style.display = 'block';
            downloads.innerHTML = '';
            
            img.onload = async function() {
                downloads.innerHTML = '<h3>âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! Ø§Ø¶ØºØ· Ù„ØªØ­Ù…ÙŠÙ„:</h3>';
                
                for (let i = 0; i < sizes.length; i++) {
                    const { size, name } = sizes[i];
                    
                    // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
                    const progressPercent = ((i + 1) / sizes.length) * 100;
                    progressFill.style.width = progressPercent + '%';
                    progressText.textContent = `Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø© ${size}x${size}... (${i + 1}/${sizes.length})`;
                    
                    // Ø¥Ø¹Ø¯Ø§Ø¯ Canvas
                    canvas.width = size;
                    canvas.height = size;
                    
                    // Ø±Ø³Ù… Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø©
                    ctx.imageSmoothingEnabled = true;
                    ctx.imageSmoothingQuality = 'high';
                    ctx.drawImage(img, 0, 0, size, size);
                    
                    // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ blob ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„
                    await new Promise(resolve => {
                        canvas.toBlob(function(blob) {
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = name;
                            a.className = 'download-link';
                            a.textContent = `ğŸ“± ${name} (${size}x${size})`;
                            downloads.appendChild(a);
                            resolve();
                        }, 'image/png', 1.0);
                    });
                    
                    // Ø§Ù†ØªØ¸Ø§Ø± Ù‚ØµÙŠØ± Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬ï¿½ï¿½Ø©
                    await new Promise(resolve => setTimeout(resolve, 100));
                }
                
                progressText.textContent = 'ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!';
                
                // Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…Ø§Øª
                const instructions = document.createElement('div');
                instructions.innerHTML = `
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>ğŸ“‹ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªØ«Ø¨ÙŠØª:</h4>
                        <ol style="text-align: right; line-height: 1.8;">
                            <li>Ø­Ù…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø£Ø¹Ù„Ø§Ù‡</li>
                            <li>Ø¶Ø¹Ù‡Ø§ ÙÙŠ Ù…Ø¬Ù„Ø¯: <code>public/icons/</code></li>
                            <li>ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª ØµØ­ÙŠØ­Ø©</li>
                            <li>Ù‚Ù… Ø¨Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹: <code>npm run build</code></li>
                            <li>Ø§Ø®ØªØ¨Ø± PWA: <code>npm run preview</code></li>
                        </ol>
                        <p style="color: #ffeb3b; font-weight: bold;">
                            ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ø§Ø­ÙØ¸ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!
                        </p>
                    </div>
                `;
                downloads.appendChild(instructions);
            };
            
            img.onerror = function() {
                progressText.textContent = 'âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©!';
                alert('ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„Ù: public/YSK-SALES.png');
            };
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
            img.src = 'public/YSK-SALES.png';
        }

        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©
        document.addEventListener('DOMContentLoaded', function() {
            const preview = document.getElementById('preview');
            preview.addEventListener('click', function() {
                this.style.transform = this.style.transform === 'scale(1.1)' ? 'scale(1)' : 'scale(1.1)';
            });
        });
    </script>
</body>
</html>